{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OXKR\\\\Documents\\\\2025\\\\API-VENTAS\\\\pos-frontend\\\\src\\\\components\\\\layout\\\\Header.js\",\n  _s = $RefreshSig$();\n// src/components/layout/Header.js\nimport React, { useContext } from 'react';\nimport { Navbar, Container, Badge, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSync, faWifi, faWifiSlash } from '@fortawesome/free-solid-svg-icons';\nimport { OfflineContext } from '../../context/OfflineContext';\nimport { sincronizarDatos } from '../../services/apiService';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Header = () => {\n  _s();\n  const {\n    isOnline,\n    pendingOperations,\n    lastSync,\n    syncPendingOperations\n  } = useContext(OfflineContext);\n  const handleSync = async () => {\n    toast.info('Sincronizando datos...');\n    try {\n      const result = await sincronizarDatos();\n      if (result.success) {\n        toast.success(result.message);\n        // Actualizar context después de sincronizar\n        syncPendingOperations();\n      } else {\n        toast.error(result.message);\n      }\n    } catch (error) {\n      toast.error('Error al sincronizar: ' + error.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    bg: \"white\",\n    expand: \"lg\",\n    className: \"border-bottom shadow-sm py-2\",\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      className: \"px-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Badge, {\n          bg: isOnline ? 'success' : 'danger',\n          className: \"d-flex align-items-center me-3\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: isOnline ? faWifi : faWifiSlash,\n            className: \"me-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), isOnline ? 'En línea' : 'Fuera de línea']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), pendingOperations.length > 0 && /*#__PURE__*/_jsxDEV(Badge, {\n          bg: \"warning\",\n          className: \"me-3\",\n          children: [pendingOperations.length, \" operaciones pendientes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), lastSync && /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"text-muted me-3\",\n          children: [\"\\xDAltima sincronizaci\\xF3n: \", new Date(lastSync).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-primary\",\n          size: \"sm\",\n          onClick: handleSync,\n          disabled: !isOnline,\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSync,\n            className: \"me-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), \"Sincronizar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"muQDA1MhvVEaoJhdIyEVRDJe6Ho=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useContext","Navbar","Container","Badge","Button","FontAwesomeIcon","faSync","faWifi","faWifiSlash","OfflineContext","sincronizarDatos","toast","jsxDEV","_jsxDEV","Header","_s","isOnline","pendingOperations","lastSync","syncPendingOperations","handleSync","info","result","success","message","error","bg","expand","className","children","fluid","icon","fileName","_jsxFileName","lineNumber","columnNumber","length","Date","toLocaleString","variant","size","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/OXKR/Documents/2025/API-VENTAS/pos-frontend/src/components/layout/Header.js"],"sourcesContent":["// src/components/layout/Header.js\r\nimport React, { useContext } from 'react';\r\nimport { Navbar, Container, Badge, Button } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faSync, faWifi, faWifiSlash } from '@fortawesome/free-solid-svg-icons';\r\nimport { OfflineContext } from '../../context/OfflineContext';\r\nimport { sincronizarDatos } from '../../services/apiService';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Header = () => {\r\n  const { isOnline, pendingOperations, lastSync, syncPendingOperations } = useContext(OfflineContext);\r\n  \r\n  const handleSync = async () => {\r\n    toast.info('Sincronizando datos...');\r\n    \r\n    try {\r\n      const result = await sincronizarDatos();\r\n      \r\n      if (result.success) {\r\n        toast.success(result.message);\r\n        // Actualizar context después de sincronizar\r\n        syncPendingOperations();\r\n      } else {\r\n        toast.error(result.message);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Error al sincronizar: ' + error.message);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Navbar bg=\"white\" expand=\"lg\" className=\"border-bottom shadow-sm py-2\">\r\n      <Container fluid className=\"px-4\">\r\n        <div className=\"d-flex align-items-center\">\r\n          <Badge \r\n            bg={isOnline ? 'success' : 'danger'} \r\n            className=\"d-flex align-items-center me-3\"\r\n          >\r\n            <FontAwesomeIcon icon={isOnline ? faWifi : faWifiSlash} className=\"me-1\" />\r\n            {isOnline ? 'En línea' : 'Fuera de línea'}\r\n          </Badge>\r\n          \r\n          {pendingOperations.length > 0 && (\r\n            <Badge bg=\"warning\" className=\"me-3\">\r\n              {pendingOperations.length} operaciones pendientes\r\n            </Badge>\r\n          )}\r\n          \r\n          {lastSync && (\r\n            <small className=\"text-muted me-3\">\r\n              Última sincronización: {new Date(lastSync).toLocaleString()}\r\n            </small>\r\n          )}\r\n        </div>\r\n        \r\n        <div>\r\n          <Button \r\n            variant=\"outline-primary\" \r\n            size=\"sm\" \r\n            onClick={handleSync}\r\n            disabled={!isOnline}\r\n            className=\"d-flex align-items-center\"\r\n          >\r\n            <FontAwesomeIcon icon={faSync} className=\"me-1\" />\r\n            Sincronizar\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}