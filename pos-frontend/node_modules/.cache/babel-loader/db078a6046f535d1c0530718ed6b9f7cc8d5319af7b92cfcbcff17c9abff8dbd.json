{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OXKR\\\\Documents\\\\2025\\\\API-VENTAS\\\\API-VENTAS\\\\pos-frontend\\\\src\\\\pages\\\\SucursalesPage.js\",\n  _s = $RefreshSig$();\n// src/pages/SucursalesPage.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Card, Table, Button, Modal, Form, Row, Col, Badge, Spinner, Alert, InputGroup } from 'react-bootstrap';\nimport { faBuilding, faEdit, faPlus, faSearch, faUserTie } from '@fortawesome/free-solid-svg-icons';\nimport Layout from '../components/layout/Layout';\nimport { AuthContext } from '../context/AuthContext';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SucursalesPage = () => {\n  _s();\n  // Estados para manejar sucursales y formularios\n  const [sucursales, setSucursales] = useState([]);\n  const [usuarios, setUsuarios] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [formData, setFormData] = useState({\n    nombreComercial: '',\n    direccion: '',\n    responsable: '',\n    estado: 'Activo',\n    saldoDisponible: 0\n  });\n  const [filtro, setFiltro] = useState('');\n  const [sucursalSeleccionada, setSucursalSeleccionada] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Acceder al contexto de autenticación\n  const {\n    userInfo\n  } = useContext(AuthContext);\n\n  // Cargar sucursales y usuarios al montar el componente\n  useEffect(() => {\n    fetchSucursales();\n    fetchUsuarios();\n  }, []);\n\n  // Función para obtener sucursales\n  const fetchSucursales = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get('/api/sucursales');\n      setSucursales(response.data);\n    } catch (error) {\n      console.error('Error al cargar sucursales:', error);\n      setError('No se pudieron cargar las sucursales. Por favor, intente nuevamente.');\n\n      // Datos de fallback para desarrollo\n      if (process.env.NODE_ENV === 'development') {\n        const fallbackData = [{\n          _id: '1',\n          nombreComercial: 'Sucursal Principal',\n          direccion: 'Calle Principal #123',\n          responsable: {\n            _id: '1',\n            nombre: 'Juan',\n            apellido: 'Pérez',\n            documento: '123456789'\n          },\n          estado: 'Activo',\n          saldoDisponible: 5000000,\n          fechaCreacion: new Date()\n        }, {\n          _id: '2',\n          nombreComercial: 'Sucursal Norte',\n          direccion: 'Av. Norte #456',\n          responsable: {\n            _id: '2',\n            nombre: 'Ana',\n            apellido: 'Gómez',\n            documento: '987654321'\n          },\n          estado: 'Activo',\n          saldoDisponible: 3500000,\n          fechaCreacion: new Date()\n        }];\n        setSucursales(fallbackData);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Función para obtener usuarios\n  const fetchUsuarios = async () => {\n    try {\n      const response = await axios.get('/api/usuarios');\n      // Filtrar solo usuarios comerciales para asignar como responsables\n      const usuariosComerciales = response.data.filter(usuario => usuario.tipo === 'Comercial' && usuario.estado === 'Activo');\n      setUsuarios(usuariosComerciales);\n    } catch (error) {\n      console.error('Error al cargar usuarios:', error);\n      // Código de fallback...\n    }\n  };\n\n  // Manejar cambios en el formulario\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // Abrir modal para crear nueva sucursal\n  const handleOpenCreateModal = () => {\n    setIsEditing(false);\n    setFormData({\n      nombreComercial: '',\n      direccion: '',\n      responsable: '',\n      estado: 'Activo',\n      saldoDisponible: 0\n    });\n    setShowModal(true);\n  };\n\n  // Abrir modal para editar sucursal\n  const handleOpenEditModal = sucursal => {\n    var _sucursal$responsable;\n    setIsEditing(true);\n    setSucursalSeleccionada(sucursal);\n    setFormData({\n      nombreComercial: sucursal.nombreComercial,\n      direccion: sucursal.direccion,\n      responsable: ((_sucursal$responsable = sucursal.responsable) === null || _sucursal$responsable === void 0 ? void 0 : _sucursal$responsable._id) || '',\n      estado: sucursal.estado,\n      saldoDisponible: sucursal.saldoDisponible\n    });\n    setShowModal(true);\n  };\n\n  // Validación de formulario\n  const validateForm = () => {\n    if (!formData.nombreComercial || !formData.direccion || !formData.responsable) {\n      toast.error('Por favor complete todos los campos obligatorios');\n      return false;\n    }\n    return true;\n  };\n\n  // Guardar sucursal (crear o actualizar)\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    setLoading(true);\n    try {\n      if (isEditing) {\n        // Actualizar sucursal existente\n        await axios.put(`/api/sucursales/${sucursalSeleccionada._id}`, formData);\n        toast.success('Sucursal actualizada correctamente');\n      } else {\n        // Crear nueva sucursal\n        await axios.post('/api/sucursales', formData);\n        toast.success('Sucursal creada correctamente');\n      }\n\n      // Cerrar modal y recargar datos\n      setShowModal(false);\n      fetchSucursales();\n      fetchUsuarios(); // Recargar usuarios por si cambió la asignación de sucursales\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error al guardar sucursal:', error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error al guardar la sucursal');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Verificar permisos para crear/editar sucursales\n  const canManageSucursal = () => {\n    return (userInfo === null || userInfo === void 0 ? void 0 : userInfo.tipo) === 'Super Usuario' || (userInfo === null || userInfo === void 0 ? void 0 : userInfo.tipo) === 'Administrativo';\n  };\n\n  // Filtrar sucursales\n  const sucursalesFiltradas = sucursales.filter(sucursal => {\n    var _sucursal$responsable2;\n    return sucursal.nombreComercial.toLowerCase().includes(filtro.toLowerCase()) || sucursal.direccion.toLowerCase().includes(filtro.toLowerCase()) || ((_sucursal$responsable2 = sucursal.responsable) === null || _sucursal$responsable2 === void 0 ? void 0 : _sucursal$responsable2.nombre) && `${sucursal.responsable.nombre} ${sucursal.responsable.apellido}`.toLowerCase().includes(filtro.toLowerCase());\n  });\n\n  // Encontrar usuario disponible (no asignado a otra sucursal)\n  const usuariosDisponibles = () => {\n    // Ya no filtramos por sucursal asignada, solo devolvemos todos los usuarios comerciales\n    return usuarios;\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Gesti\\xF3n de Sucursales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), canManageSucursal() && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: handleOpenCreateModal,\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faPlus,\n          className: \"me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), \"Nueva Sucursal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-between align-items-center mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group\",\n            style: {\n              maxWidth: '300px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text\",\n              children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faSearch\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Buscar sucursal...\",\n              value: filtro,\n              onChange: e => setFiltro(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: [\"Total: \", sucursalesFiltradas.length, \" sucursales\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-5\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            role: \"status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: \"Cargando...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            striped: true,\n            bordered: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Nombre Comercial\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Direcci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Responsable\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Saldo Disponible\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Estado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: sucursalesFiltradas.length > 0 ? sucursalesFiltradas.map(sucursal => {\n                var _sucursal$saldoDispon;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: sucursal.nombreComercial\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: sucursal.direccion\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: sucursal.responsable ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                        icon: faUserTie,\n                        className: \"me-2 text-primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 31\n                      }, this), `${sucursal.responsable.nombre} ${sucursal.responsable.apellido}`, /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"ms-2 text-muted\",\n                        children: [\"(\", sucursal.responsable.documento, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 274,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-muted\",\n                      children: \"Sin asignar\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"text-end\",\n                    children: [\"$ \", ((_sucursal$saldoDispon = sucursal.saldoDisponible) === null || _sucursal$saldoDispon === void 0 ? void 0 : _sucursal$saldoDispon.toLocaleString()) || 0]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(Badge, {\n                      bg: sucursal.estado === 'Activo' ? 'success' : 'secondary',\n                      children: sucursal.estado\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex gap-2\",\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline-primary\",\n                        size: \"sm\",\n                        onClick: () => handleOpenEditModal(sucursal),\n                        disabled: !canManageSucursal(),\n                        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                          icon: faEdit\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 298,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 25\n                  }, this)]\n                }, sucursal._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 23\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: \"6\",\n                  className: \"text-center py-3\",\n                  children: \"No se encontraron sucursales\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faBuilding,\n            className: \"me-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), isEditing ? 'Editar Sucursal' : 'Crear Nueva Sucursal']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Nombre Comercial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"nombreComercial\",\n              value: formData.nombreComercial,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Direcci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"direccion\",\n              value: formData.direccion,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Responsable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              name: \"responsable\",\n              value: formData.responsable,\n              onChange: handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Seleccionar responsable\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this), usuariosDisponibles().map(usuario => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: usuario._id,\n                children: `${usuario.nombre} ${usuario.apellido} (${usuario.documento})`\n              }, usuario._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this), usuariosDisponibles().length === 0 && /*#__PURE__*/_jsxDEV(Form.Text, {\n              className: \"text-danger\",\n              children: \"No hay usuarios comerciales disponibles. Por favor, cree un usuario comercial primero.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), isEditing && /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Saldo Disponible\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                children: \"$\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                name: \"saldoDisponible\",\n                value: formData.saldoDisponible,\n                onChange: handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              name: \"estado\",\n              value: formData.estado,\n              onChange: handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Activo\",\n                children: \"Activo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Inactivo\",\n                children: \"Inactivo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setShowModal(false),\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            disabled: loading || usuariosDisponibles().length === 0,\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Spinner, {\n                size: \"sm\",\n                animation: \"border\",\n                className: \"me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this), \"Guardando...\"]\n            }, void 0, true) : 'Guardar'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n_s(SucursalesPage, \"MZlWRYL3T61beBFGxU/Td65+Ugk=\");\n_c = SucursalesPage;\nexport default SucursalesPage;\nvar _c;\n$RefreshReg$(_c, \"SucursalesPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","FontAwesomeIcon","Card","Table","Button","Modal","Form","Row","Col","Badge","Spinner","Alert","InputGroup","faBuilding","faEdit","faPlus","faSearch","faUserTie","Layout","AuthContext","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","SucursalesPage","_s","sucursales","setSucursales","usuarios","setUsuarios","loading","setLoading","showModal","setShowModal","formData","setFormData","nombreComercial","direccion","responsable","estado","saldoDisponible","filtro","setFiltro","sucursalSeleccionada","setSucursalSeleccionada","isEditing","setIsEditing","error","setError","userInfo","fetchSucursales","fetchUsuarios","response","get","data","console","process","env","NODE_ENV","fallbackData","_id","nombre","apellido","documento","fechaCreacion","Date","usuariosComerciales","filter","usuario","tipo","handleChange","e","name","value","target","prev","handleOpenCreateModal","handleOpenEditModal","sucursal","_sucursal$responsable","validateForm","handleSubmit","preventDefault","put","success","post","_error$response","_error$response$data","message","canManageSucursal","sucursalesFiltradas","_sucursal$responsable2","toLowerCase","includes","usuariosDisponibles","children","className","fileName","_jsxFileName","lineNumber","columnNumber","variant","onClick","icon","Body","style","maxWidth","Control","type","placeholder","onChange","length","animation","role","striped","bordered","hover","map","_sucursal$saldoDispon","toLocaleString","bg","size","disabled","colSpan","show","onHide","Header","closeButton","Title","onSubmit","Group","Label","required","Select","Text","Footer","_c","$RefreshReg$"],"sources":["C:/Users/OXKR/Documents/2025/API-VENTAS/API-VENTAS/pos-frontend/src/pages/SucursalesPage.js"],"sourcesContent":["// src/pages/SucursalesPage.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Card, Table, Button, Modal, Form, Row, Col, Badge, Spinner, Alert, InputGroup } from 'react-bootstrap';\r\nimport {\r\n  faBuilding,\r\n  faEdit,\r\n  faPlus,\r\n  faSearch,\r\n  faUserTie\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport Layout from '../components/layout/Layout';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst SucursalesPage = () => {\r\n  // Estados para manejar sucursales y formularios\r\n  const [sucursales, setSucursales] = useState([]);\r\n  const [usuarios, setUsuarios] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    nombreComercial: '',\r\n    direccion: '',\r\n    responsable: '',\r\n    estado: 'Activo',\r\n    saldoDisponible: 0\r\n  });\r\n  const [filtro, setFiltro] = useState('');\r\n  const [sucursalSeleccionada, setSucursalSeleccionada] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Acceder al contexto de autenticación\r\n  const { userInfo } = useContext(AuthContext);\r\n\r\n  // Cargar sucursales y usuarios al montar el componente\r\n  useEffect(() => {\r\n    fetchSucursales();\r\n    fetchUsuarios();\r\n  }, []);\r\n\r\n  // Función para obtener sucursales\r\n  const fetchSucursales = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get('/api/sucursales');\r\n      setSucursales(response.data);\r\n    } catch (error) {\r\n      console.error('Error al cargar sucursales:', error);\r\n      setError('No se pudieron cargar las sucursales. Por favor, intente nuevamente.');\r\n      \r\n      // Datos de fallback para desarrollo\r\n      if (process.env.NODE_ENV === 'development') {\r\n        const fallbackData = [\r\n          { \r\n            _id: '1', \r\n            nombreComercial: 'Sucursal Principal',\r\n            direccion: 'Calle Principal #123',\r\n            responsable: { \r\n              _id: '1', \r\n              nombre: 'Juan', \r\n              apellido: 'Pérez',\r\n              documento: '123456789'\r\n            },\r\n            estado: 'Activo',\r\n            saldoDisponible: 5000000,\r\n            fechaCreacion: new Date()\r\n          },\r\n          { \r\n            _id: '2', \r\n            nombreComercial: 'Sucursal Norte',\r\n            direccion: 'Av. Norte #456',\r\n            responsable: { \r\n              _id: '2', \r\n              nombre: 'Ana', \r\n              apellido: 'Gómez',\r\n              documento: '987654321'\r\n            },\r\n            estado: 'Activo',\r\n            saldoDisponible: 3500000,\r\n            fechaCreacion: new Date()\r\n          }\r\n        ];\r\n        setSucursales(fallbackData);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Función para obtener usuarios\r\n  const fetchUsuarios = async () => {\r\n    try {\r\n      const response = await axios.get('/api/usuarios');\r\n      // Filtrar solo usuarios comerciales para asignar como responsables\r\n      const usuariosComerciales = response.data.filter(\r\n        usuario => usuario.tipo === 'Comercial' && usuario.estado === 'Activo'\r\n      );\r\n      setUsuarios(usuariosComerciales);\r\n    } catch (error) {\r\n      console.error('Error al cargar usuarios:', error);\r\n      // Código de fallback...\r\n    }\r\n  };\r\n\r\n  // Manejar cambios en el formulario\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  // Abrir modal para crear nueva sucursal\r\n  const handleOpenCreateModal = () => {\r\n    setIsEditing(false);\r\n    setFormData({\r\n      nombreComercial: '',\r\n      direccion: '',\r\n      responsable: '',\r\n      estado: 'Activo',\r\n      saldoDisponible: 0\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  // Abrir modal para editar sucursal\r\n  const handleOpenEditModal = (sucursal) => {\r\n    setIsEditing(true);\r\n    setSucursalSeleccionada(sucursal);\r\n    setFormData({\r\n      nombreComercial: sucursal.nombreComercial,\r\n      direccion: sucursal.direccion,\r\n      responsable: sucursal.responsable?._id || '',\r\n      estado: sucursal.estado,\r\n      saldoDisponible: sucursal.saldoDisponible\r\n    });\r\n    setShowModal(true);\r\n  };\r\n\r\n  // Validación de formulario\r\n  const validateForm = () => {\r\n    if (!formData.nombreComercial || !formData.direccion || !formData.responsable) {\r\n      toast.error('Por favor complete todos los campos obligatorios');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // Guardar sucursal (crear o actualizar)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      if (isEditing) {\r\n        // Actualizar sucursal existente\r\n        await axios.put(`/api/sucursales/${sucursalSeleccionada._id}`, formData);\r\n        toast.success('Sucursal actualizada correctamente');\r\n      } else {\r\n        // Crear nueva sucursal\r\n        await axios.post('/api/sucursales', formData);\r\n        toast.success('Sucursal creada correctamente');\r\n      }\r\n      \r\n      // Cerrar modal y recargar datos\r\n      setShowModal(false);\r\n      fetchSucursales();\r\n      fetchUsuarios(); // Recargar usuarios por si cambió la asignación de sucursales\r\n    } catch (error) {\r\n      console.error('Error al guardar sucursal:', error);\r\n      toast.error(error.response?.data?.message || 'Error al guardar la sucursal');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Verificar permisos para crear/editar sucursales\r\n  const canManageSucursal = () => {\r\n    return userInfo?.tipo === 'Super Usuario' || userInfo?.tipo === 'Administrativo';\r\n  };\r\n\r\n  // Filtrar sucursales\r\n  const sucursalesFiltradas = sucursales.filter(sucursal =>\r\n    sucursal.nombreComercial.toLowerCase().includes(filtro.toLowerCase()) ||\r\n    sucursal.direccion.toLowerCase().includes(filtro.toLowerCase()) ||\r\n    (sucursal.responsable?.nombre && \r\n      `${sucursal.responsable.nombre} ${sucursal.responsable.apellido}`\r\n        .toLowerCase()\r\n        .includes(filtro.toLowerCase())\r\n    )\r\n  );\r\n\r\n  // Encontrar usuario disponible (no asignado a otra sucursal)\r\n  const usuariosDisponibles = () => {\r\n    // Ya no filtramos por sucursal asignada, solo devolvemos todos los usuarios comerciales\r\n    return usuarios;\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n        <h2>Gestión de Sucursales</h2>\r\n        {canManageSucursal() && (\r\n          <Button \r\n            variant=\"primary\" \r\n            onClick={handleOpenCreateModal}\r\n          >\r\n            <FontAwesomeIcon icon={faPlus} className=\"me-2\" />\r\n            Nueva Sucursal\r\n          </Button>\r\n        )}\r\n      </div>\r\n      \r\n      {error && (\r\n        <Alert variant=\"danger\">\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      \r\n      <Card className=\"mb-4\">\r\n        <Card.Body>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <div className=\"input-group\" style={{ maxWidth: '300px' }}>\r\n              <span className=\"input-group-text\">\r\n                <FontAwesomeIcon icon={faSearch} />\r\n              </span>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Buscar sucursal...\"\r\n                value={filtro}\r\n                onChange={(e) => setFiltro(e.target.value)}\r\n              />\r\n            </div>\r\n            <div>\r\n              <small className=\"text-muted\">\r\n                Total: {sucursalesFiltradas.length} sucursales\r\n              </small>\r\n            </div>\r\n          </div>\r\n          \r\n          {loading ? (\r\n            <div className=\"text-center py-5\">\r\n              <Spinner animation=\"border\" role=\"status\">\r\n                <span className=\"visually-hidden\">Cargando...</span>\r\n              </Spinner>\r\n            </div>\r\n          ) : (\r\n            <div className=\"table-responsive\">\r\n              <Table striped bordered hover>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Nombre Comercial</th>\r\n                    <th>Dirección</th>\r\n                    <th>Responsable</th>\r\n                    <th>Saldo Disponible</th>\r\n                    <th>Estado</th>\r\n                    <th>Acciones</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {sucursalesFiltradas.length > 0 ? (\r\n                    sucursalesFiltradas.map(sucursal => (\r\n                      <tr key={sucursal._id}>\r\n                        <td>{sucursal.nombreComercial}</td>\r\n                        <td>{sucursal.direccion}</td>\r\n                        <td>\r\n                          {sucursal.responsable ? (\r\n                            <div className=\"d-flex align-items-center\">\r\n                              <FontAwesomeIcon icon={faUserTie} className=\"me-2 text-primary\" />\r\n                              {`${sucursal.responsable.nombre} ${sucursal.responsable.apellido}`}\r\n                              <small className=\"ms-2 text-muted\">\r\n                                ({sucursal.responsable.documento})\r\n                              </small>\r\n                            </div>\r\n                          ) : (\r\n                            <span className=\"text-muted\">Sin asignar</span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"text-end\">\r\n                          $ {sucursal.saldoDisponible?.toLocaleString() || 0}\r\n                        </td>\r\n                        <td>\r\n                          <Badge bg={sucursal.estado === 'Activo' ? 'success' : 'secondary'}>\r\n                            {sucursal.estado}\r\n                          </Badge>\r\n                        </td>\r\n                        <td>\r\n                          <div className=\"d-flex gap-2\">\r\n                            <Button \r\n                              variant=\"outline-primary\" \r\n                              size=\"sm\"\r\n                              onClick={() => handleOpenEditModal(sucursal)}\r\n                              disabled={!canManageSucursal()}\r\n                            >\r\n                              <FontAwesomeIcon icon={faEdit} />\r\n                            </Button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan=\"6\" className=\"text-center py-3\">\r\n                        No se encontraron sucursales\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      {/* Modal para crear/editar sucursal */}\r\n      <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>\r\n            <FontAwesomeIcon icon={faBuilding} className=\"me-2\" />\r\n            {isEditing ? 'Editar Sucursal' : 'Crear Nueva Sucursal'}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Modal.Body>\r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Nombre Comercial</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"nombreComercial\"\r\n                value={formData.nombreComercial}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            \r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Dirección</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"direccion\"\r\n                value={formData.direccion}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            \r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Responsable</Form.Label>\r\n              <Form.Select\r\n                name=\"responsable\"\r\n                value={formData.responsable}\r\n                onChange={handleChange}\r\n                required\r\n              >\r\n                <option value=\"\">Seleccionar responsable</option>\r\n                {usuariosDisponibles().map(usuario => (\r\n                  <option key={usuario._id} value={usuario._id}>\r\n                    {`${usuario.nombre} ${usuario.apellido} (${usuario.documento})`}\r\n                  </option>\r\n                ))}\r\n              </Form.Select>\r\n              {usuariosDisponibles().length === 0 && (\r\n                <Form.Text className=\"text-danger\">\r\n                  No hay usuarios comerciales disponibles. Por favor, cree un usuario comercial primero.\r\n                </Form.Text>\r\n              )}\r\n            </Form.Group>\r\n            \r\n            {isEditing && (\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>Saldo Disponible</Form.Label>\r\n                <InputGroup>\r\n                  <InputGroup.Text>$</InputGroup.Text>\r\n                  <Form.Control\r\n                    type=\"number\"\r\n                    name=\"saldoDisponible\"\r\n                    value={formData.saldoDisponible}\r\n                    onChange={handleChange}\r\n                  />\r\n                </InputGroup>\r\n              </Form.Group>\r\n            )}\r\n            \r\n            <Form.Group className=\"mb-3\">\r\n              <Form.Label>Estado</Form.Label>\r\n              <Form.Select\r\n                name=\"estado\"\r\n                value={formData.estado}\r\n                onChange={handleChange}\r\n                required\r\n              >\r\n                <option value=\"Activo\">Activo</option>\r\n                <option value=\"Inactivo\">Inactivo</option>\r\n              </Form.Select>\r\n            </Form.Group>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={() => setShowModal(false)}>\r\n              Cancelar\r\n            </Button>\r\n            <Button \r\n              variant=\"primary\" \r\n              type=\"submit\" \r\n              disabled={loading || usuariosDisponibles().length === 0}\r\n            >\r\n              {loading ? (\r\n                <>\r\n                  <Spinner size=\"sm\" animation=\"border\" className=\"me-2\" />\r\n                  Guardando...\r\n                </>\r\n              ) : (\r\n                'Guardar'\r\n              )}\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Form>\r\n      </Modal>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default SucursalesPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}