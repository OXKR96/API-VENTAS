{"ast":null,"code":"// src/services/localStorageService.js\n// Claves para localStorage\nexport const STORAGE_KEYS={USER_INFO:'userInfo',CREDITOS:'creditos',CLIENTES:'clientes',ABONOS:'abonos',SUCURSALES:'sucursales',USUARIOS:'usuarios',PENDING_OPERATIONS:'pendingOperations',LAST_SYNC:'lastSync'};// Operaciones básicas\nexport const getItemFromStorage=key=>{try{const item=localStorage.getItem(key);return item?JSON.parse(item):null;}catch(error){console.error(`Error al obtener ${key} de localStorage:`,error);return null;}};export const setItemInStorage=(key,value)=>{try{localStorage.setItem(key,JSON.stringify(value));return true;}catch(error){console.error(`Error al guardar ${key} en localStorage:`,error);return false;}};export const removeItemFromStorage=key=>{try{localStorage.removeItem(key);return true;}catch(error){console.error(`Error al eliminar ${key} de localStorage:`,error);return false;}};// Funciones específicas para cada entidad\nexport const generateTempId=()=>`temp_${Date.now()}`;// Gestión de créditos\nexport const getCreditosFromStorage=()=>{return getItemFromStorage(STORAGE_KEYS.CREDITOS)||[];};export const getClientesFromStorage=()=>{return getItemFromStorage(STORAGE_KEYS.CLIENTES)||[];};export const getAbonosFromStorage=()=>{return getItemFromStorage(STORAGE_KEYS.ABONOS)||[];};export const saveCreditoToStorage=credito=>{const creditos=getCreditosFromStorage();if(!credito._id){credito._id=generateTempId();credito._temp=true;}const updatedCreditos=[...creditos,credito];return setItemInStorage(STORAGE_KEYS.CREDITOS,updatedCreditos);};export const saveClienteToStorage=cliente=>{const clientes=getClientesFromStorage();// Verificar si ya existe\nconst existingIndex=clientes.findIndex(c=>c.cedula===cliente.cedula);if(existingIndex!==-1){clientes[existingIndex]={...clientes[existingIndex],...cliente};}else{if(!cliente._id){cliente._id=generateTempId();cliente._temp=true;}clientes.push(cliente);}return setItemInStorage(STORAGE_KEYS.CLIENTES,clientes);};export const saveAbonoToStorage=abono=>{const abonos=getAbonosFromStorage();if(!abono._id){abono._id=generateTempId();abono._temp=true;}const updatedAbonos=[...abonos,abono];return setItemInStorage(STORAGE_KEYS.ABONOS,updatedAbonos);};export const saveSucursalesToStorage=sucursales=>{return setItemInStorage(STORAGE_KEYS.SUCURSALES,sucursales);};export const saveUsuariosToStorage=usuarios=>{return setItemInStorage(STORAGE_KEYS.USUARIOS,usuarios);};","map":{"version":3,"names":["STORAGE_KEYS","USER_INFO","CREDITOS","CLIENTES","ABONOS","SUCURSALES","USUARIOS","PENDING_OPERATIONS","LAST_SYNC","getItemFromStorage","key","item","localStorage","getItem","JSON","parse","error","console","setItemInStorage","value","setItem","stringify","removeItemFromStorage","removeItem","generateTempId","Date","now","getCreditosFromStorage","getClientesFromStorage","getAbonosFromStorage","saveCreditoToStorage","credito","creditos","_id","_temp","updatedCreditos","saveClienteToStorage","cliente","clientes","existingIndex","findIndex","c","cedula","push","saveAbonoToStorage","abono","abonos","updatedAbonos","saveSucursalesToStorage","sucursales","saveUsuariosToStorage","usuarios"],"sources":["C:/Users/OXKR/Documents/2025/API-VENTAS/API-VENTAS/pos-frontend/src/services/localStorageService.js"],"sourcesContent":["// src/services/localStorageService.js\r\n// Claves para localStorage\r\nexport const STORAGE_KEYS = {\r\n    USER_INFO: 'userInfo',\r\n    CREDITOS: 'creditos',\r\n    CLIENTES: 'clientes',\r\n    ABONOS: 'abonos',\r\n    SUCURSALES: 'sucursales',\r\n    USUARIOS: 'usuarios',\r\n    PENDING_OPERATIONS: 'pendingOperations',\r\n    LAST_SYNC: 'lastSync'\r\n  };\r\n  \r\n  // Operaciones básicas\r\n  export const getItemFromStorage = (key) => {\r\n    try {\r\n      const item = localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : null;\r\n    } catch (error) {\r\n      console.error(`Error al obtener ${key} de localStorage:`, error);\r\n      return null;\r\n    }\r\n  };\r\n  \r\n  export const setItemInStorage = (key, value) => {\r\n    try {\r\n      localStorage.setItem(key, JSON.stringify(value));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(`Error al guardar ${key} en localStorage:`, error);\r\n      return false;\r\n    }\r\n  };\r\n  \r\n  export const removeItemFromStorage = (key) => {\r\n    try {\r\n      localStorage.removeItem(key);\r\n      return true;\r\n    } catch (error) {\r\n      console.error(`Error al eliminar ${key} de localStorage:`, error);\r\n      return false;\r\n    }\r\n  };\r\n  \r\n  // Funciones específicas para cada entidad\r\n  export const generateTempId = () => `temp_${Date.now()}`;\r\n  \r\n  // Gestión de créditos\r\n  export const getCreditosFromStorage = () => {\r\n    return getItemFromStorage(STORAGE_KEYS.CREDITOS) || [];\r\n  };\r\n  \r\n  export const getClientesFromStorage = () => {\r\n    return getItemFromStorage(STORAGE_KEYS.CLIENTES) || [];\r\n  };\r\n  \r\n  export const getAbonosFromStorage = () => {\r\n    return getItemFromStorage(STORAGE_KEYS.ABONOS) || [];\r\n  };\r\n  \r\n  export const saveCreditoToStorage = (credito) => {\r\n    const creditos = getCreditosFromStorage();\r\n    \r\n    if (!credito._id) {\r\n      credito._id = generateTempId();\r\n      credito._temp = true;\r\n    }\r\n    \r\n    const updatedCreditos = [...creditos, credito];\r\n    return setItemInStorage(STORAGE_KEYS.CREDITOS, updatedCreditos);\r\n  };\r\n  \r\n  export const saveClienteToStorage = (cliente) => {\r\n    const clientes = getClientesFromStorage();\r\n    \r\n    // Verificar si ya existe\r\n    const existingIndex = clientes.findIndex(c => c.cedula === cliente.cedula);\r\n    \r\n    if (existingIndex !== -1) {\r\n      clientes[existingIndex] = { ...clientes[existingIndex], ...cliente };\r\n    } else {\r\n      if (!cliente._id) {\r\n        cliente._id = generateTempId();\r\n        cliente._temp = true;\r\n      }\r\n      clientes.push(cliente);\r\n    }\r\n    \r\n    return setItemInStorage(STORAGE_KEYS.CLIENTES, clientes);\r\n  };\r\n  \r\n  export const saveAbonoToStorage = (abono) => {\r\n    const abonos = getAbonosFromStorage();\r\n    \r\n    if (!abono._id) {\r\n      abono._id = generateTempId();\r\n      abono._temp = true;\r\n    }\r\n    \r\n    const updatedAbonos = [...abonos, abono];\r\n    return setItemInStorage(STORAGE_KEYS.ABONOS, updatedAbonos);\r\n  };\r\n  \r\n  export const saveSucursalesToStorage = (sucursales) => {\r\n    return setItemInStorage(STORAGE_KEYS.SUCURSALES, sucursales);\r\n  };\r\n  \r\n  export const saveUsuariosToStorage = (usuarios) => {\r\n    return setItemInStorage(STORAGE_KEYS.USUARIOS, usuarios);\r\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}